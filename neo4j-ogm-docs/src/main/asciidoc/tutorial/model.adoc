[[tutorial-model]]
= Building the domain model

Before we get to any code, we want to whiteboard our graph model.

Our College will contain `departments`, each of which offer various `subjects` taught by a `teacher`.
`Students` `enroll` for `courses` or `classes` that teach a `subject`.

We're also going to model a `study buddy` which represents a group of `students` that get together to help one another study for a `class`.

Here's what we came up with.

image::model.png[Graph model, 770, 370]

When we translate this model to Java, it ends up being pretty straightforward:

[source, java]
----
public class Department {
    private String name;
    private Set<Subject> subjects;
}

public class Subject {
    private String name;
    private Department department;
    private Set<Teacher> teachers;
    private Set<Course> courses;
}

public class Teacher {
    private String name;
    private Set<Course> courses;
    private Set<Subject> subjects;
}

public class Course {
    private String name;
    private Subject subject;
    private Teacher teacher;
    private Set<Enrollment> enrollments;
}

public class Student {
    private String name;
    private Set<Enrollment> enrollments;
    private Set<StudyBuddy> studyBuddies;
}

public class Enrollment {
    private Student student;
    private Course course;
    private Date enrolledDate;
}
----

When a student enrolls for a course, we're also going to keep track of the enrollment date.

In the model, this will be stored as a property on the `ENROLLED` relationship between a student and a course.
This kind of rich relationship is managed by the class `Enrollment` and is known as a ***relationship entity***.

The important thing to take away here is that the OGM supports Neo4j's philosophy of whiteboard friendly domain models.  By focusing
on the model the code almost writes itself.
